if(typeof console=="undefined"||typeof console.log=="undefined"){var console={log:function(){}}}var testing=parent.testing;var pageNo;var currentPage;var znThisPageLocal;var znPages;var thispage=(document.location.href);var cleanURL;var thePageArray;var moduletype=(window.parent.data.moduletype?window.parent.data.moduletype:2);var currentPage;if(testing){console.log("moduletype is "+moduletype)}var pcounter=0;var pcounter2=0;var pcounter3=0;function chooseButtonSet(){if((!window.parent.data.customBtnArray)||(typeof window.parent.data.customBtnArray=="undefined")){switch(moduletype){case 0:btnArray=new Array({hideSuspendBtn:true,suspendTxt:"-",showNxtBtn:false,nxtTxt:"-",hideEndBtn:true,endTxt:"-"});break;case 1:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:false,nxtTxt:"Next Section",hideEndBtn:false,endTxt:"Mark Complete"});break;case 2:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:false,nxtTxt:"-",hideEndBtn:true,endTxt:"-"});break;case 3:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:true,nxtTxt:"Next Section",hideEndBtn:true,endTxt:"-"});break;case 4:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:true,nxtTxt:"Go to Quiz",hideEndBtn:true,endTxt:"-"});break;case 5:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:false,nxtTxt:"-",hideEndBtn:true,endTxt:"-"});break;case 6:btnArray=new Array({hideSuspendBtn:true,suspendTxt:"-",showNxtBtn:false,nxtTxt:"-",hideEndBtn:false,endTxt:"Mark Section Complete"});break;case 7:btnArray=new Array({hideSuspendBtn:true,suspendTxt:"-",showNxtBtn:false,nxtTxt:"-",hideEndBtn:false,endTxt:"Mark Complete"});break;case 8:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:true,nxtTxt:"Next Section",hideEndBtn:false,endTxt:"Mark Complete"});break;case 9:btnArray=new Array({hideSuspendBtn:true,suspendTxt:"-",showNxtBtn:true,nxtTxt:"Next Section",hideEndBtn:true,endTxt:"-"});break;default:btnArray=new Array({hideSuspendBtn:true,suspendTxt:"Finish Later",showNxtBtn:false,nxtTxt:"Next Section",hideEndBtn:true,endTxt:"Mark Complete"});break}}else{var h=window.parent.data.customBtnArray;for(var a=0;a<customBtns.length;i++){var j=customBtns[a].href,f=customBtns[a].title,e=customBtns[a].txt,c=customBtns[a].clk,g=customBtns[a].cls,d=customBtns[a].id;document.getElementById("NavBar").innerHTML+=('<a href="'+j+' " onclick="'+c+'" id="'+d+'" class="'+g+'" title="'+f+'">'+e+"</a>")}}}function printScormButtons(){if(parent.APIOK()){if(typeof document.getElementById("mlearningControls")!="undefined"){document.getElementById("mlearningControls").innerHTML=("")}chooseButtonSet();if(testing){console.log("pageNavigation AAA writing buttons, btnArray[0].suspendTxt="+btnArray[0].suspendTxt)}if(btnArray[0].showNxtBtn){writeNextButton(btnArray[0].nxtTxt)}if(!btnArray[0].hideSuspendBtn){writeSuspendButton(btnArray[0].suspendTxt)}if(!btnArray[0].hideEndBtn){writeEndButton(btnArray[0].endTxt)}}}function findPageArray(){if(typeof window.parent.data.PageArray!="undefined"){thePageArray=window.parent.data.PageArray;if(testing){console.log("CCD thePageArray="+thePageArray)}znPages=thePageArray.length;if(testing){console.log("CCF znPages="+znPages)}return thePageArray}else{if(typeof parent.data.PageArray!="undefined"){thePageArray=parent.data.PageArray;if(testing){console.log("DCE thePageArray="+thePageArray)}znPages=thePageArray.length;if(testing){console.log("DCG znPages="+znPages)}return thePageArray}else{if(pcounter<10){pcounter++;setTimeout("findPageArray()",250)}else{alert(counter+': I couldn\'t find the list of pages. ("pageArray"). Please reload the window. If you continue to see this message, please let the MLearning team know: mlearning@umich.edu')}}}return}function getCurrentPage(){for(var a=0;a<znPages;a++){cleanURL=(thePageArray[a].url).split("&",1);if((thispage).indexOf(thePageArray[a].url)!=-1){window.parent.data.znThisPage=(a+1);if(testing){console.log("VVD window.parent.data.znThisPage="+window.parent.data.znThisPage+", parent.data.znThisPage="+parent.data.znThisPage)}currentPage=thePageArray[a];if(pcounter2<10){pcounter2++;if(typeof currentPage=="undefined"){setTimeout("getCurrentPage()",250)}if(testing){console.log("GGE pcounter2= "+pcounter2)}}}}return{}}function printFeedbackLink(){var a=parent.data.contentAuthorEmail?parent.data.contentAuthorEmail:"";var b=parent.data.headerTitle?parent.data.headerTitle:"";document.getElementById("navbarBottom").innerHTML+=("<a href='http://umichumhs.qualtrics.com/SE?SID=SV_1KUWIOAlDJwhgGw&SVID=Prod&URL="+encodeURI(window.location.href)+"&TITLE="+encodeURI(b)+"&EMAIL="+encodeURI(a)+"' target='_blank' class='feedbackBtn'>Submit Comments or Questions</a>")}function printContactInfo(){document.getElementById("navbarBottom").innerHTML+=('<div class="navContact" title="mlearning@umich.edu 734-615-5146"><b>Contact Us</b><br>mlearninginfo@umich.edu<br>734-615-5146<br>Fax: 734-615-6021<br>North Campus Research Complex<br>2800 Plymouth Road, Building 200<br>Ann Arbor, MI 48109-2800</div>')
}function printHelpBtn(){document.getElementById("NavBar").innerHTML+=('<a href="#"  onClick="MM_openBrWindow(\'includes/help.htm\',\'\',\'scrollbars=yes,resizable=yes,width=908,height=625\')"  id="helpButton" alt="How to use this module"  title="How to use this module">INSTRUCTIONS</a>')}function printExpander(){document.getElementById("NavBar").innerHTML+=('<a href="#" onmousedown="toggleByChapter();" id="expander">expand all</a>')}function printNavBar(){var w="";var v="";var d=findPageArray();if((typeof d=="undefined")||(d.length==0)){if(pcounter2<10){pcounter2++;if(testing){console.log("AAE pcounter2= "+pcounter2)}document.getElementById("NavBar").innerHTML=("");setTimeout("findPageArray();",550);return}else{console.log("I tried to find pa more than 10 times")}}getCurrentPage();if(testing){console.log("GGF currentPage= "+currentPage)}pageNo=window.parent.data.znThisPage;printExpander();if(document.getElementById("pdfForm")){w=('<input name="uPath" type="hidden" value="'+document.location.href+'" />');w+=('<input name="uUrl" type="hidden" value="')}for(var u=0;u<d.length;u++){var l=window.parent.data.znThisPage-1;if((typeof thePageArray=="undefined")||(thePageArray=="null")||(!thePageArray)){findPageArray();if(testing){console.log("BZZ typeof thePageArray= "+typeof thePageArray)}}var o=thePageArray[u];var s=(u+1);var r=(u-1);var h=thePageArray[s];var y=thePageArray[r];var b=o.level;var n=(o.quiz)?"quiz":"notquiz";var t;var m=o.chapter;var z=o.isParent;var e=o.branch;var f=o.url;var c=o.buttonTitle;var g=o.pageTitle;var a="closed";var q=" ";if(f=="scorePage.htm"){t="isScorePage";c="Submit Score & Complete"}if(u==l){q="current";a="open"}if(b==1){a="open"}else{if(currentPage.level>b&&currentPage.chapter==m&&currentPage.branch==e){a="open"}else{if(currentPage.branch==e&&(currentPage.level==b||b==currentPage.level+1)){a="open"}else{if(currentPage.chapter==m&&b==2){a="open"}else{a="closed"}}}}document.getElementById("NavBar").innerHTML+=('<a href="'+f+'" class= "'+q+" navlevel"+b+" chapter"+m+" "+a+" "+z+" "+n+" "+t+'">'+c+"</a>");if(!o.quiz){v+=(f+";")}}w+=(v+'" />');if(document.getElementById("pdfForm")){document.getElementById("pdfForm").innerHTML+=w}setHdrBtns();printExpander();printScormButtons();printFeedbackLink();printContactInfo();writeNewPageNo();writeHeaderTitle();parent.SCOBookmark()}function setHdrBtns(){if(window.parent.data.znThisPage==1){document.getElementById("prevBtn").src="images/header/hdr_Middle.jpg";document.getElementById("ftrPrevBtn").src="images/footer/footer_Middle.jpg";document.getElementById("headerPrev").onmouseover=function(){};document.getElementById("footerPrev").onmouseover=function(){}}else{if(window.parent.data.znThisPage==znPages){document.getElementById("nextBtn").src="images/header/up/Next_btnBlank.jpg";document.getElementById("ftrNextBtn").src="images/footer/up/footer_Next_btnBlank.jpg";document.getElementById("headerNext").onmouseover=function(){};document.getElementById("footerNext").onmouseover=function(){}}}}function wipeNavBar(){document.getElementById("NavBar").innerHTML=("")}function NavigateObject(){this.NextPage=NextPage;this.PreviousPage=PreviousPage;this.FirstPage=FirstPage}function NextPage(){if(!window.parent.data.znThisPage){window.parent.data.znThisPage=pageNo}if((window.parent.data.znThisPage+1)<=znPages){window.parent.data.znThisPage++;document.location.href=parent.data.PageArray[window.parent.data.znThisPage-1].url}else{alert("End of Module")}}function PreviousPage(){if(!window.parent.data.znThisPage){window.parent.data.znThisPage=pageNo}if((window.parent.data.znThisPage)>1){window.parent.data.znThisPage--;document.location.href=parent.data.PageArray[window.parent.data.znThisPage-1].url}else{alert("This is the first page of the module")}}function writeNewPageNo(){if(testing){console.log("BEG thePageArray.length= "+thePageArray.length+" thePageArray[0].url="+thePageArray[0].url)}var b=window.parent.data.znThisPage/znPages;var a=Math.round(b*75);if(document.getElementById("pageNumberHolder")){document.getElementById("pageNumberHolder").innerHTML+=('<table width="75" ><tr><td align="left" id="progressBarCell"><img src="images/progressBarBG.jpg" width="'+a+'" height="13" /> </td></tr><tr><td class="pageNoHolder">PAGE '+window.parent.data.znThisPage+" of "+znPages+"</td></tr></table>")}else{}}function wipePageNo(){if(document.getElementById("pageNumberHolder")){document.getElementById("pageNumberHolder").innerHTML=("")}}function writePageTitle(){}function writeHeaderTitle(){var a=parent.data.headerTitle;document.getElementById("title").innerHTML=a}function bookmarkAlert(){if((typeof thePageArray[0].askedbookmark=="undefined")&&(znPages>15)){if(((window.parent.data.znThisPage)==1)&&(parent.SCOGetValue("cmi.core.lesson_location")!="")){thePageArray[0].askedbookmark=true;var a=confirm("You have a saved bookmark. Would you like to return to that location now?");if(a){document.location.href=parent.SCOGetValue("cmi.core.lesson_location")}else{}}}}function writeEndButton(a){var b=(parent.data.endText?parent.data.endText:a);
document.getElementById("NavBar").innerHTML+=("<a href='#'  class='endLesson' id='endLesson' title='Mark this lesson complete' onclick='closingActions();return false;'>"+b+"</a>")}function writeNextButton(a){var b=(parent.data.nextText?parent.data.nextText:a);document.getElementById("NavBar").innerHTML+=("<a href='#'  class='nextLesson'  id='nextLesson' title='Mark this lesson complete' onclick='nextActions();return false;'>"+b+"</a>")}function writeSuspendButton(a){var b=(parent.data.suspendText?parent.data.suspendText:a);if(testing){console.log("parent.data.suspendText="+parent.data.suspendText+", txt="+a)}document.getElementById("NavBar").innerHTML+=("<a href='#' class='suspendLesson' id='suspendLesson'  title='Stop for now and come back later to finish' onclick='suspendActions();return false;'>"+b+"</a>")}function nextActions(){parent.g_gbGoingToNextSco=true;parent.SCOSetValue("cmi.core.lesson_status","completed");parent.SCOSetValue("cmi.core.exit","");parent.SCOSaveData();parent.SCOFinish()}function closingActions(){if(parent.APIOK()){parent.SCOSetValue("cmi.core.lesson_status","completed");parent.SCOSetValue("cmi.core.exit","");parent.SCOSaveData();if(parent.data.cookieVrsn){parent.SetCookie("cVrsn","",-1)}parent.SCOFinish()}}function suspendActions(){if(parent.APIOK()){parent.SCOSetValue("cmi.core.lesson_status","incomplete");parent.SCOSetValue("cmi.core.exit","suspend");parent.g_bIsSuspended=true;parent.SCOCommit();parent.SCOFinish()}};