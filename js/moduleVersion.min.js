if(typeof console=="undefined"||typeof console.log=="undefined"){var console={log:function(){}}}var testing=parent.testing;$(document).ready(function(){if((parent.lmsVrsn!=null)&&!isNaN(parent.lmsVrsn)){$("body").append('<div id="dialog-modal" style="display:none;"></div>');if(parent.justOpened){if(testing){console.log("parent.lmsVrsn="+parent.lmsVrsn)}$("#dialog-modal").dialog({close:true,height:140,modal:true})}}$("#dialog-modal").html("<div><img src='images/ajax-loader.gif' /></div>")});function openModalDialog(){$("#dialog-modal").dialog("open")}function closeModalDialog(){if(testing){console.log("BBf in function closeModalDialog")}$("#dialog-modal").dialog("close")}function setVrsn(){var c=qsParm.vrsn?qsParm.vrsn:null;var a=(parent.lmsVrsn&&!isNaN(parent.lmsVrsn))?parent.lmsVrsn:null;var b=ReadCookie("cVrsn");if(testing){console.log("EEE zVrsn="+c+" zLmsVrsn="+a+" zCookieVrsn="+b)}if((parent.justOpened)&&(a)){openModalDialog();if(testing){console.log("BBb zLmsVrsn="+a)}if(testing){console.log("FFF ReadCookie(cVrsn)="+ReadCookie("cVrsn")+" zLmsVrsn="+a)}if(ReadCookie("cVrsn")!=a){if(testing){console.log("BBd about to set cookie")}SetCookie("cVrsn",a,1);b=ReadCookie("cVrsn");if(testing){console.log("BBa zCookieVrsn is now "+b)}}setTimeout("parent.data.detArrayVrsn("+a+")",1000)}else{if(c!=null){if(testing){console.log("BBC")}if(b!=c){if(testing){console.log("BBe about to set cookie")}SetCookie("cVrsn",c,1);parent.SCOSetObjectiveData("version","score.raw",c);b=ReadCookie("cVrsn");parent.lmsVrsn=c;a=c;if(testing){console.log("BBe zCookieVrsn is now"+b)}setTimeout("parent.data.detArrayVrsn("+c+")",1000)}}else{if(testing){console.log("no version was set")}parent.SetCookie("cVrsn","",-1)}}}setVrsn();