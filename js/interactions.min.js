if(typeof console=="undefined"||typeof console.log=="undefined"){var console={log:function(){}}}var testing=parent.testing;if((typeof IntArray!="undefined")&&(parent.APIOK())){var suspendData=parent.SCOGetValue("cmi.suspend_data")?parent.SCOGetValue("cmi.suspend_data"):"";var iMax=parseInt("0",10);var iScore=parseInt("0",10);var itemList=window.IntArray;var interactionsLoaded=false}else{if(testing){console.log("AFF.00")}}function loadInteractions(){var e=suspendData;if(testing){console.log("suspendData= "+suspendData+"suspendData.length="+suspendData.length)}if(testing){console.log("IntArray= "+IntArray)}var h=e.split(",");var k;if(testing){console.log("<hr>in function loadInteractions in interactions.js<hr>")}if(suspendData.length!=0){if(testing){console.log("AAE.00")}for(var c=1;c<h.length;c++){k=h[c].split(":");if(testing){console.log("<hr>Suspend Data for "+c+"= "+k+"<br>")}var b=k[0];var a=k[1];var f=k[2];var j=itemList[b];j.ascore=a?parseInt(a,10):0;j.tries=f?parseInt(f,10):0;if(testing){console.log("AAE suspItmID= "+b+", itm.ascore= "+j.ascore+", tries= "+j.tries+",itm.msg= "+j.msg+" itm.amax="+j.amax)}if((j.amax==0)&&(j.tries==0)){j.msg=recommendedMsg;if(testing){console.log("AAE.1")}}if((j.amax==0)&&(j.tries>0)){j.msg=completedMsg;if(testing){console.log("AAE.2")}}else{if((j.amax>0)&&(j.tries<j.amax)){j.msg=requiredMsg;if(testing){console.log("AAE.3")}}else{if((j.amax>0)&&(j.tries>=j.amax)){j.msg=completedMsg;if(testing){console.log("AAE.4")}}}}}if(testing){console.log("AAE.5")}}else{if(testing){console.log("ABA.00")}if(testing){console.log("ABA.0")}for(var d in IntArray){var j=IntArray[d];if(testing){console.log("ABA.01 itm.amax="+j.amax+"itm.tries"+j.tries)}if(testing){console.log("itm.amax="+j.amax+", itm.ascore="+j.ascore+"itm.tries="+j.tries+"itm.msg="+j.msg)}if((j.amax==0)&&(j.tries==0)){j.msg=recommendedMsg;if(testing){console.log("ABA.1")}}if((j.amax==0)&&(j.tries>0)){j.msg=completedMsg;if(testing){console.log("ABA.2")}}else{if((j.amax>0)&&(j.tries<j.amax)){j.msg=requiredMsg;if(testing){console.log("ABA.3")}}else{if((j.amax>0)&&(j.tries>=j.amax)){j.msg=completedMsg;if(testing){console.log("ABA.4")}}else{j.msg=requiredMsg;if(testing){console.log("ABA.5+ itm.msg ="+j.msg)}}}}if(testing){console.log("ABA.6")}if(testing){console.log("ABA.7")}}}interactionsLoaded=true;if(testing){console.log('<b style="color:red">Interactions are completely loaded</b>')}}function saveInteractions(){if(window.testing){console.log("<br>in function saveInteractions<br>")}var b="";for(var a in itemList){var c=itemList[a];if(testing){console.log("<br>in function saveInteractions: itm["+a+"].id:"+c.id+"<br> msg: "+c.msg+"<br> amax:"+c.amax+"<br> tries: "+c.tries+"<br>ascore"+c.ascore+"<br>quiz: "+c.quiz+"<br>")}b+=(","+c.id+":"+c.ascore+":"+c.tries)}if(testing){console.log("<hr>in function saveInteractions: theDataString= "+b+"<br>")}parent.SCOSetValue("cmi.suspend_data",b);parent.SCOCommit();suspendData=parent.SCOGetValue("cmi.suspend_data")}function clearSuspendData(){parent.SCOSetValue("cmi.suspend_data","");parent.SCOSaveData()};